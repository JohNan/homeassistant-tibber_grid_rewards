[flake8]
# Ignore some flake8 flags:
# E501: line too long
# W503: Line break occurred before a binary operator
# E203: Whitespace before ':'
# D202: No blank lines after function docstring
# D415: First line should end with a period, question mark, or exclamation point
# D401: First line should be in imperative mood
# D400: First line should end with a period
# D205: 1 blank line required between summary line and description
# D212: Multi-line docstring summary should start at the first line
# D213: Multi-line docstring summary should start at the second line
ignore = E501, W503, E203, D202, D415, D401, D400, D205, D212, D213
per-file-ignores =
    # allow missing docstrings in tests
    tests/*: D100,D101,D102,D103,D104
    # allow using absolute imports in tests
    tests/*: T001
max-line-length = 120
exclude = .venv,.git,.github,.vscode,build,dist,custom_components

[tool:pytest]
# Options for pytest
addopts =
    --cov="custom_components.tibber_grid_reward"
    --cov-report=termmissing
    --cov-report=html
    --cov-report=xml
asyncio_mode = auto
testpaths =
    tests

[coverage:run]
source =
    custom_components.tibber_grid_reward
omit =
    */const.py
    */config_flow.py
    */manifest.json
    */services.yaml
    */strings.json
    */translations/*

[coverage:report]
show_missing = true
skip_covered = true
